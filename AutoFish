local RodsEq = {"Wood Rod", "Sturdy Rod", "Super Rod"}
local user = tostring(game.Players.LocalPlayer.Name)

_G.AutoFish = true

while _G.AutoFish do
    wait(5) -- Delay before each iteration (adjust as needed)

    -- Find the first rod in the inventory that matches the names in RodsEq
    local foundRod = nil
    for _, tool in pairs(game.Players.LocalPlayer.Backpack:GetChildren()) do
        if tool:IsA("Tool") and table.find(RodsEq, tool.Name) then
            foundRod = tool
            break
        end
    end

    if not foundRod then
        warn("No suitable rod found in inventory.")
        break -- Exit the current loop iteration and continue to the next iteration
    end

    for i, v in pairs(game.Players.LocalPlayer.Character:GetChildren()) do
        if v:IsA("Tool") and v.Name ~= foundRod.Name then
            v.Parent = game.Players.LocalPlayer.Backpack
        end
    end

    foundRod.Parent = game.Players.LocalPlayer.Character

    local platformSize = Vector3.new(10, 1, 10)

    -- Create the initial platform
    local platformPosition = Vector3.new(math.random(-10000, 10000), 210, -20000)

    -- Destroy the previous platform if it exists
    local previousPlatform = workspace:FindFirstChild("Platform")
    if previousPlatform then
        previousPlatform:Destroy()
    end

    -- Create the platform
    local part = Instance.new("Part")
    part.Name = "Platform"
    part.Position = platformPosition
    part.Size = platformSize
    part.BrickColor = BrickColor.new("Medium stone grey")
    part.Transparency = 0.3
    part.Material = Enum.Material.Granite
    part.Anchored = true
    part.CanCollide = true
    part.Parent = workspace

    -- Teleport the player on top of the platform
    local localPlayer = game.Players.LocalPlayer
    local character = localPlayer.Character
    if character and character:FindFirstChild("HumanoidRootPart") then
        character.HumanoidRootPart.CFrame = CFrame.new(platformPosition + Vector3.new(0, platformSize.Y / 2 + character.Humanoid.HipHeight, 0))
    end

    wait(1)

    while _G.AutoFish do
        local character = game.Players.LocalPlayer.Character
        local rod = character:FindFirstChild(foundRod.Name)

        if rod then
            local args = {
                [1] = character.HumanoidRootPart.CFrame.Position
            }

            rod.Click:FireServer(unpack(args))

            repeat
                wait(0.1) -- Adjust the delay here (smaller value to fish faster, larger value to fish slower)
            until game.Workspace[user][foundRod.Name].Cast.Bobber.Effect.Enabled == true

            rod.Click:FireServer(unpack(args)) -- Additional rod click after the bobber effect is enabled
        end

        wait(1) -- Delay after each fishing attempt (adjust as needed)
    end
end
