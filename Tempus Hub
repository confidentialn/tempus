-- BASEPLATE GAME SCRIPT
local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/xHeptc/Kavo-UI-Library/main/source.lua"))()
local Window = Library.CreateLib("Tempus Hub", "DarkTheme")

if game.PlaceId == 3237168 then
    -- MAIN
    local Main = Window:NewTab("Farms")
    local MainSection = Main:NewSection("Misc")

    MainSection:NewToggle("Autofarm NPCS", "Autoteleports you to a safe place to farm NPCS", function(state)
        if state then
            loadstring(game:HttpGet('https://raw.githubusercontent.com/confidentialn/tempus/main/NPCFarm'))()
        else
            _G.Farming = false
        end
    end)

    MainSection:NewButton("Package Farm", "Loads a gui to automatically complete packages", function()
        loadstring(game:HttpGet('https://raw.githubusercontent.com/confidentialn/tempus/main/PackageFarm'))()
    end)

    MainSection:NewToggle("Autofish", "Autoteleports you to a safe place to fish", function(state)
        if state then
            loadstring(game:HttpGet('https://raw.githubusercontent.com/confidentialn/tempus/main/AutoFish'))()
        else
            _G.ToggleFish = false
        end
    end)

    MainSection:NewToggle("AutoCompass", "Auto claims and completes compasses for you", function(state)
        if state then
            loadstring(game:HttpGet('https://raw.githubusercontent.com/confidentialn/tempus/main/AutoCompass'))()
        else
            _G.AutoCompass = false
        end
    end)

    --LOCAL PLAYER
    local Player = Window:NewTab("Player")
    local PlayerSection = Player:NewSection("Player")

    PlayerSection:NewSlider("Gravity", "Change the gravity", 500, 0, function(s)
        Workspace.Gravity = s
    end)

    PlayerSection:NewSlider("Jumppower", "Change your jumppower", 350, 50, function(s)
        game.Players.LocalPlayer.Character.Humanoid.JumpPower = s
    end)

    PlayerSection:NewButton("Reset Grav/JP", "Resets to all defaults", function()
        game.Players.LocalPlayer.Character.Humanoid.JumpPower = 50
        Workspace.Gravity = 196.2
    end)

    PlayerSection:NewButton("Locate Compass", "Locates compass", function()
        local compasses = {}  -- Table to store compasses found in the inventory
        for _, item in ipairs(game.Players.LocalPlayer.Backpack:GetChildren()) do
            if item:IsA("Tool") and item.Name == "Compass" then
                table.insert(compasses, item)
            end
        end
        for _, compass in ipairs(compasses) do
            game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(compass.Poser.Value)
            compass.Parent = game.Players.LocalPlayer.Character
            compass:Activate()
        end
        
        -- Equip and activate compasses
        for _, compass in ipairs(compasses) do
            game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(compass.Poser.Value)
            compass.Parent = game.Players.LocalPlayer.Character
            compass:Activate()
        end
    end)
end
